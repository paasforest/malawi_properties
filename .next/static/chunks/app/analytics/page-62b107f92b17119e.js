(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{3589:function(e,s,t){Promise.resolve().then(t.bind(t,52))},8711:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},4232:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},4241:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9321:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4817:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1902:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},1240:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(1066).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},4316:function(e,s,t){"use strict";t.d(s,{supabase:function(){return l}});var i=t(6887);let a="https://ofuyghemecqstflnhixy.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9mdXlnaGVtZWNxc3RmbG5oaXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzMDQ0NzUsImV4cCI6MjA3ODg4MDQ3NX0.kD12l4KnDFZuRNFCSOEIQWKCGdvy8CBCnuL2ukC0TAc",n=a?a.replace(/\/$/,"").replace(/^(https?:\/\/)?/,"https://"):"https://placeholder.supabase.co";a&&r?r.length<50&&console.error("❌ Invalid Supabase anon key:",{keyLength:r.length,keyPreview:r.substring(0,30)+"...",message:"Anon key appears to be a placeholder or too short. Please check Vercel environment variables."}):(console.error("❌ Missing Supabase environment variables:",{url:a?"✓":"✗",key:r?"✓":"✗",urlValue:a||"MISSING",keyValue:r?"".concat(r.substring(0,20),"..."):"MISSING"}),console.error("Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel environment variables and redeploy."));let l=(0,i.eI)(n,r||"placeholder-key",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},52:function(e,s,t){"use strict";t.d(s,{Analytics:function(){return y}});var i=t(7437),a=t(2265),r=t(4316),n=t(4232),l=t(4817),c=t(1240),d=t(1902),o=t(8711),x=t(4241),u=t(1066);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,u.Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),m=(0,u.Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var g=t(9321);function y(){let[e,s]=(0,a.useState)({totalProperties:0,totalInquiries:0,totalViews:0,totalSearches:0,totalSessions:0,averageTimeToSale:0,topDistricts:[],propertyTypeDistribution:[],diasporaPercentage:0,recentInquiries:[],hotProperties:[],searchIntelligence:{topSearches:[],districtSearches:[],priceRangeSearches:[],searchToViewRate:0,searchToInquiryRate:0},userJourney:{averageViewsPerSession:0,averageSearchesPerSession:0,averageInquiriesPerSession:0,conversionFunnel:{searches:0,views:0,detailViews:0,inquiries:0},averageSessionDuration:0},timeBasedAnalytics:{hourlyViews:[],dailyViews:[],hourlyInquiries:[],dailyInquiries:[]},deviceAnalytics:{mobilePercentage:0,desktopPercentage:0,mobileViews:0,desktopViews:0}}),[t,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{y()},[]);let y=async()=>{try{let[{data:e},{data:t},{data:i},{data:a},{data:n}]=await Promise.all([r.supabase.from("properties").select("*"),r.supabase.from("inquiries").select("*, profiles(is_diaspora, current_location)"),r.supabase.from("property_views").select("*"),r.supabase.from("search_queries").select("*"),r.supabase.from("user_sessions").select("*")]),l=(null==e?void 0:e.length)||0,c=(null==t?void 0:t.length)||0,d=(null==i?void 0:i.length)||0,o=(null==a?void 0:a.length)||0,x=(null==n?void 0:n.length)||0,u=(null==e?void 0:e.filter(e=>e.sold_at))||[],h=u.length>0?u.reduce((e,s)=>{let t=new Date(s.listed_at),i=new Date(s.sold_at),a=Math.floor((i.getTime()-t.getTime())/864e5);return e+a},0)/u.length:0,m=null==e?void 0:e.reduce((e,s)=>(e[s.district]=(e[s.district]||0)+1,e),{}),g=Object.entries(m||{}).map(e=>{let[s,t]=e;return{district:s,count:t}}).sort((e,s)=>s.count-e.count).slice(0,5),y=null==e?void 0:e.reduce((e,s)=>(e[s.property_type]=(e[s.property_type]||0)+1,e),{}),p=Object.entries(y||{}).map(e=>{let[s,t]=e;return{type:s,count:t}}),v=(null==t?void 0:t.filter(e=>{var s;return null===(s=e.profiles)||void 0===s?void 0:s.is_diaspora}))||[],j=c>0?v.length/c*100:0,b=(e||[]).sort((e,s)=>s.inquiries_count-e.inquiries_count).slice(0,5),f=new Map,N=new Map,w=new Map;null==a||a.forEach(e=>{var s,t,i,a,r;if(e.search_text){let s=e.search_text.toLowerCase(),t=f.get(s)||{count:0,conversions:0};t.count++,e.converted_to_inquiry&&t.conversions++,f.set(s,t)}let n=null===(s=e.search_params)||void 0===s?void 0:s.district;n&&N.set(n,(N.get(n)||0)+1);let l=(null===(t=e.search_params)||void 0===t?void 0:t.minPrice)||(null===(i=e.search_params)||void 0===i?void 0:i.min_price),c=(null===(a=e.search_params)||void 0===a?void 0:a.maxPrice)||(null===(r=e.search_params)||void 0===r?void 0:r.max_price);if(l||c){let e="".concat(l||"0"," - ").concat(c||"∞");w.set(e,(w.get(e)||0)+1)}});let k=Array.from(f.entries()).map(e=>{let[s,t]=e;return{search:s,count:t.count,conversionRate:t.count>0?t.conversions/t.count*100:0}}).sort((e,s)=>s.count-e.count).slice(0,10),S=Array.from(N.entries()).map(e=>{let[s,t]=e;return{district:s,count:t}}).sort((e,s)=>s.count-e.count).slice(0,10),_=Array.from(w.entries()).map(e=>{let[s,t]=e;return{range:s,count:t}}).sort((e,s)=>s.count-e.count).slice(0,10),I=(null==a?void 0:a.filter(e=>e.viewed_property_ids&&e.viewed_property_ids.length>0))||[],M=(null==a?void 0:a.filter(e=>e.converted_to_inquiry))||[],q=o>0?I.length/o*100:0,P=o>0?M.length/o*100:0,V=((null==n?void 0:n.filter(e=>e.conversion_funnel&&Object.keys(e.conversion_funnel).length>0))||[]).reduce((e,s)=>{let t=s.conversion_funnel||{};return{searches:(e.searches||0)+(t.searches||0),views:(e.views||0)+(t.views||0),detailViews:(e.detailViews||0)+(t.detail_views||0),inquiries:(e.inquiries||0)+(t.inquiries||0)}},{searches:0,views:0,detailViews:0,inquiries:0}),F=x>0?d/x:0,A=x>0?o/x:0,Z=x>0?c/x:0,J=(null==n?void 0:n.filter(e=>e.duration_seconds>0))||[],D=J.length>0?J.reduce((e,s)=>e+s.duration_seconds,0)/J.length:0,T=new Map,z=new Map,C=new Map,B=new Map;null==i||i.forEach(e=>{let s=new Date(e.viewed_at||e.created_at),t=s.getHours(),i=s.toLocaleDateString("en-US",{weekday:"short"});T.set(t,(T.get(t)||0)+1),z.set(i,(z.get(i)||0)+1)}),null==t||t.forEach(e=>{let s=new Date(e.created_at),t=s.getHours(),i=s.toLocaleDateString("en-US",{weekday:"short"});C.set(t,(C.get(t)||0)+1),B.set(i,(B.get(i)||0)+1)});let E=Array.from({length:24},(e,s)=>({hour:s,count:T.get(s)||0})),R=Array.from(z.entries()).map(e=>{let[s,t]=e;return{day:s,count:t}}),U=Array.from({length:24},(e,s)=>({hour:s,count:C.get(s)||0})),L=Array.from(B.entries()).map(e=>{let[s,t]=e;return{day:s,count:t}}),O=(null==i?void 0:i.filter(e=>"mobile"===e.device_type).length)||0,X=(null==i?void 0:i.filter(e=>"desktop"===e.device_type).length)||0;s({totalProperties:l,totalInquiries:c,totalViews:d,totalSearches:o,totalSessions:x,averageTimeToSale:Math.round(h),topDistricts:g,propertyTypeDistribution:p,diasporaPercentage:j,recentInquiries:(null==t?void 0:t.slice(0,10))||[],hotProperties:b,searchIntelligence:{topSearches:k,districtSearches:S,priceRangeSearches:_,searchToViewRate:q,searchToInquiryRate:P},userJourney:{averageViewsPerSession:Math.round(10*F)/10,averageSearchesPerSession:Math.round(10*A)/10,averageInquiriesPerSession:Math.round(10*Z)/10,conversionFunnel:V,averageSessionDuration:Math.round(D)},timeBasedAnalytics:{hourlyViews:E,dailyViews:R,hourlyInquiries:U,dailyInquiries:L},deviceAnalytics:{mobilePercentage:d>0?O/d*100:0,desktopPercentage:d>0?X/d*100:0,mobileViews:O,desktopViews:X}})}catch(e){console.error("Error loading analytics:",e)}finally{u(!1)}};return t?(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-xl text-gray-600",children:"Loading analytics..."})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,i.jsxs)("div",{className:"container mx-auto px-4",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Market Intelligence"}),(0,i.jsx)("p",{className:"text-gray-600 mt-1",children:"Deep insights into Malawi property market"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Total Properties"}),(0,i.jsx)(n.Z,{className:"text-blue-600",size:24})]}),(0,i.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:e.totalProperties})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Total Searches"}),(0,i.jsx)(l.Z,{className:"text-purple-600",size:24})]}),(0,i.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:e.totalSearches}),(0,i.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.searchIntelligence.searchToViewRate.toFixed(1),"% → View, ",e.searchIntelligence.searchToInquiryRate.toFixed(1),"% → Inquiry"]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Total Sessions"}),(0,i.jsx)(c.Z,{className:"text-green-600",size:24})]}),(0,i.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:e.totalSessions}),(0,i.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.userJourney.averageViewsPerSession.toFixed(1)," views/session"]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Total Inquiries"}),(0,i.jsx)(d.Z,{className:"text-orange-600",size:24})]}),(0,i.jsx)("div",{className:"text-4xl font-bold text-gray-900",children:e.totalInquiries}),(0,i.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[e.userJourney.averageInquiriesPerSession.toFixed(2)," inquiries/session"]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,i.jsx)(l.Z,{className:"text-purple-600",size:24}),"Search Intelligence"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Searches"}),(0,i.jsx)("div",{className:"space-y-2",children:e.searchIntelligence.topSearches.slice(0,5).map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700 truncate flex-1",children:e.search}),(0,i.jsxs)("div",{className:"ml-2 text-right",children:[(0,i.jsx)("div",{className:"text-xs font-semibold text-gray-900",children:e.count}),(0,i.jsxs)("div",{className:"text-xs text-purple-600",children:[e.conversionRate.toFixed(1),"%"]})]})]},s))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top District Searches"}),(0,i.jsx)("div",{className:"space-y-2",children:e.searchIntelligence.districtSearches.slice(0,5).map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700",children:e.district}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.count})]},s))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Price Range Searches"}),(0,i.jsx)("div",{className:"space-y-2",children:e.searchIntelligence.priceRangeSearches.slice(0,5).map((e,s)=>(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-sm text-gray-700",children:e.range}),(0,i.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:e.count})]},s))})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,i.jsx)(o.Z,{className:"text-blue-600",size:24}),"User Journey & Conversion Funnel"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Conversion Funnel"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:"Searches"}),(0,i.jsx)("span",{className:"text-2xl font-bold text-purple-600",children:e.userJourney.conversionFunnel.searches})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:"Views"}),(0,i.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:e.userJourney.conversionFunnel.views}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[e.userJourney.conversionFunnel.searches>0?(e.userJourney.conversionFunnel.views/e.userJourney.conversionFunnel.searches*100).toFixed(1):0,"%"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:"Detail Views"}),(0,i.jsx)("span",{className:"text-2xl font-bold text-green-600",children:e.userJourney.conversionFunnel.detailViews}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[e.userJourney.conversionFunnel.views>0?(e.userJourney.conversionFunnel.detailViews/e.userJourney.conversionFunnel.views*100).toFixed(1):0,"%"]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:"Inquiries"}),(0,i.jsx)("span",{className:"text-2xl font-bold text-orange-600",children:e.userJourney.conversionFunnel.inquiries}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[e.userJourney.conversionFunnel.detailViews>0?(e.userJourney.conversionFunnel.inquiries/e.userJourney.conversionFunnel.detailViews*100).toFixed(1):0,"%"]})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Session Metrics"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Average Views per Session"}),(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:e.userJourney.averageViewsPerSession.toFixed(1)})]}),(0,i.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Average Searches per Session"}),(0,i.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:e.userJourney.averageSearchesPerSession.toFixed(1)})]}),(0,i.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Average Session Duration"}),(0,i.jsxs)("div",{className:"text-3xl font-bold text-gray-900",children:[Math.floor(e.userJourney.averageSessionDuration/60),"m ",e.userJourney.averageSessionDuration%60,"s"]})]})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,i.jsx)(x.Z,{className:"text-green-600",size:24}),"Time-Based Analytics"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Views by Hour"}),(0,i.jsx)("div",{className:"space-y-2",children:e.timeBasedAnalytics.hourlyViews.map(s=>{let t=Math.max(...e.timeBasedAnalytics.hourlyViews.map(e=>e.count));return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-xs text-gray-600 w-12",children:[s.hour,":00"]}),(0,i.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:(0,i.jsx)("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:"".concat(t>0?s.count/t*100:0,"%")}})}),(0,i.jsx)("span",{className:"text-xs font-semibold text-gray-900 w-8",children:s.count})]},s.hour)})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Inquiries by Hour"}),(0,i.jsx)("div",{className:"space-y-2",children:e.timeBasedAnalytics.hourlyInquiries.map(s=>{let t=Math.max(...e.timeBasedAnalytics.hourlyInquiries.map(e=>e.count));return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-xs text-gray-600 w-12",children:[s.hour,":00"]}),(0,i.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:(0,i.jsx)("div",{className:"bg-orange-600 h-4 rounded-full",style:{width:"".concat(t>0?s.count/t*100:0,"%")}})}),(0,i.jsx)("span",{className:"text-xs font-semibold text-gray-900 w-8",children:s.count})]},s.hour)})})]})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[(0,i.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,i.jsx)(h,{className:"text-indigo-600",size:24}),"Device Analytics"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)(h,{className:"text-indigo-600",size:20}),(0,i.jsx)("span",{className:"font-semibold text-gray-900",children:"Mobile"})]}),(0,i.jsxs)("div",{className:"text-3xl font-bold text-indigo-600",children:[e.deviceAnalytics.mobilePercentage.toFixed(1),"%"]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.deviceAnalytics.mobileViews," views"]})]}),(0,i.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,i.jsx)(m,{className:"text-gray-600",size:20}),(0,i.jsx)("span",{className:"font-semibold text-gray-900",children:"Desktop"})]}),(0,i.jsxs)("div",{className:"text-3xl font-bold text-gray-600",children:[e.deviceAnalytics.desktopPercentage.toFixed(1),"%"]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[e.deviceAnalytics.desktopViews," views"]})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,i.jsx)(g.Z,{size:20}),"Top Districts by Listings"]}),(0,i.jsx)("div",{className:"space-y-3",children:e.topDistricts.map(s=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:s.district}),(0,i.jsx)("span",{className:"text-gray-900 font-bold",children:s.count})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(s.count/e.totalProperties*100,"%")}})})]},s.district))})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,i.jsx)(n.Z,{size:20}),"Property Type Distribution"]}),(0,i.jsx)("div",{className:"space-y-3",children:e.propertyTypeDistribution.map(s=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-gray-700 font-medium capitalize",children:s.type}),(0,i.jsx)("span",{className:"text-gray-900 font-bold",children:s.count})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(s.count/e.totalProperties*100,"%")}})})]},s.type))})]})]}),(0,i.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg shadow-md p-8 mb-8 text-white",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Diaspora Buyer Intelligence"}),(0,i.jsxs)("div",{className:"text-6xl font-bold mb-2",children:[e.diasporaPercentage.toFixed(1),"%"]}),(0,i.jsx)("p",{className:"text-blue-100 text-lg",children:"of all inquiries come from diaspora buyers"})]})]})})}}},function(e){e.O(0,[432,971,23,744],function(){return e(e.s=3589)}),_N_E=e.O()}]);